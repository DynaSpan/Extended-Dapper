DROP TABLE IF EXISTS [Author];
DROP TABLE IF EXISTS [Book];
DROP TABLE IF EXISTS [Category];
DROP TABLE IF EXISTS [Log];
DROP TABLE IF EXISTS [Spaceship];

CREATE TABLE [Author] (
    [Id] UNIQUEIDENTIFIER PRIMARY KEY,
    [Name] VARCHAR(255),
    [BirthYear] INT,
    [Country] VARCHAR(255),
    [UpdatedAt] DATETIME,
    [Deleted] BIT
);

CREATE TABLE [Book] (
    [Id] UNIQUEIDENTIFIER PRIMARY KEY,
    [AuthorId] UNIQUEIDENTIFIER NOT NULL,
    [CoAuthorId] UNIQUEIDENTIFIER,
    [CategoryId] UNIQUEIDENTIFIER,
    [Name] VARCHAR(255),
    [OriginalName] VARCHAR(255),
    [ReleaseYear] INT,
    [UpdatedAt] DATETIME,
    [Deleted] BIT
);

CREATE TABLE [Category] (
    [Id] UNIQUEIDENTIFIER PRIMARY KEY,
    [Name] VARCHAR(255),
    [Description] VARCHAR(255),
    [EditedBy] VARCHAR(255)
);

CREATE TABLE [Log] (
    [Date] DATETIME NOT NULL,
    [SubjectId] VARCHAR(255) NOT NULL,
    [UserId] UNIQUEIDENTIFIER,
    [Action] VARCHAR(255),
    PRIMARY KEY ([Date], [SubjectId])
);

CREATE TABLE [Spaceship] (
    [Id] INT IDENTITY(1,1) PRIMARY KEY,
    [OwnerId] UNIQUEIDENTIFIER,
    [Name] VARCHAR(255) NOT NULL,
    [BuildYear] INT
);