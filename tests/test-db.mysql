DROP TABLE IF EXISTS `Author`;
DROP TABLE IF EXISTS `Book`;
DROP TABLE IF EXISTS `Category`;

CREATE TABLE IF NOT EXISTS `Author` (
    `Id` CHAR(36) PRIMARY KEY,
    `Name` VARCHAR(255),
    `BirthYear` INT(4),
    `Country` VARCHAR(255),
    `UpdatedAt` DATETIME,
    `Deleted` BOOLEAN
);

CREATE TABLE IF NOT EXISTS `Book` (
    `Id` CHAR(36) PRIMARY KEY,
    `AuthorId` CHAR(36) NOT NULL,
    `CoAuthorId` CHAR(36),
    `CategoryId` CHAR(36),
    `Name` VARCHAR(255),
    `OriginalName` VARCHAR(255),
    `ReleaseYear` INT,
    `UpdatedAt` DATETIME,
    `Deleted` BOOLEAN
);

CREATE TABLE IF NOT EXISTS `Category` (
    `Id` CHAR(36) PRIMARY KEY,
    `Name` VARCHAR(255),
    `Description` VARCHAR(255),
    `EditedBy` VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS `Log` (
    `Date` DATETIME NOT NULL,
    `SubjectId` VARCHAR(255) NOT NULL,
    `UserId` CHAR(36),
    `Action` VARCHAR(255),
    PRIMARY KEY (`Date`, `SubjectId`)
);